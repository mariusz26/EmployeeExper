<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<h:head>
	
	<f:event listener="#{listaUserowForm.init()}" type="preRenderView"></f:event>
	
</h:head> 

		
	
<h:body> 

	
	<h:form id="formListaUzytkownikow">

		
		<p:messages globalOnly="true" showDetail="true" showSummary="false" errorStyle="color:red;" infoStyle="color:blue;" warnStyle="color:black" />
		
		<p:dataTable id="tabelaUserow" var="user" value="#{listaUserowForm.listaUserow}" style=" text-align: center" 
				widgetVar="userTable"
                emptyMessage="Nie znaleziono użytkowników" filteredValue="#{listaUserowForm.listaFiltracji}" 
                scrollable="true" scrollHeight="350" >
            
          	<f:facet name="header">
          		<h:outputText value="Lista użytkowników" style="text-align:center"/>
            	<p:outputPanel style="text-align:right">
               		 <h:outputText value="Wyszukaj:" />
                	 <p:inputText id="globalFilter" value="" onkeyup="PF('userTable').filter()" style="width:150px" placeholder="Wpisz znak..." />
            	</p:outputPanel>
            </f:facet>
              
            <p:column   headerText="Login"  filterBy="#{user.login}" filterMatchMode="contains" >
            	<h:outputText value="#{user.login}" />
            </p:column>
                 
			<p:column headerText="Hasło" >
				<h:outputText value="#{user.haslo}" />
			</p:column>
			 
		
			 
			<p:column  headerText="Status" filterBy="#{user.status}" filterMatchMode="equals">
           		<f:facet name="filter">
               		 <p:selectOneButton onchange="PF('userTable').filter()">
                 	   <f:converter converterId="javax.faces.Boolean" />
                       <f:selectItem itemLabel="True" itemValue="true" />
                       <f:selectItem itemLabel="False" itemValue="false" />
                	 </p:selectOneButton>
            	</f:facet>
            <h:outputText value="#{user.status ? 'true': 'false'}" />
       	    </p:column>
			
		 	
		 	 
			<p:column  headerText="Czy aktywne" filterBy="#{user.aktywne}" filterMatchMode="equals">
				<f:facet name="filter">
               		 <p:selectOneButton onchange="PF('userTable').filter()">
                 	   <f:converter converterId="javax.faces.Boolean" />
                       <f:selectItem itemLabel="True" itemValue="true" />
                       <f:selectItem itemLabel="False" itemValue="false" />
                	 </p:selectOneButton>
            	</f:facet>
            <h:outputText value="#{user.aktywne ? 'true': 'false'}" />
			</p:column>
				
			 
			<p:column headerText="Próby logowania" width="80">
				<h:outputText value="#{user.liczaProbLogowania}" />
			</p:column>
			
			<p:column headerText="Ważność konta od" width="100">
				<h:outputText value="#{user.waznoscKontaOd}" />
			</p:column>
		
			<p:column headerText="Ważność konta do" width="100">
				<h:outputText value="#{user.waznoscKontaDo}" />
			</p:column>	
					
				  	
			<p:column headerText="Akcja" width="110">

				<p:commandLink actionListener="#{listaUserowForm.usunUzytkownikaAkcja()}">
					<h:graphicImage name="delete.png" library="grafika" style="border:none;" width="24" height="24" alt="usuńUzytkownika"/>				  	
					<p:confirm header="Potwierdzenie" message="Czy napewno chcesz usunąć.?" icon="ui-icon-alert"/>
					<f:param name="login" value="#{user.login}"/>	
				</p:commandLink>

				<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
					 <p:commandButton value="Tak" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
        			 <p:commandButton value="Nie" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
				</p:confirmDialog>
			
 
			 
			 
		<!--  		
		  <h:link outcome="wyswietl-uzytkownika" > -->
					<h:graphicImage name="info.png" library="grafika" style="border:none;" width="24" height="24" alt="wyświetlUzytkownika"/>
					<f:param name="login" value="#{user.login}"/>
			<!--  </h:link> -->
							
		<!--  <p:link outcome=""  >   -->
				    <h:graphicImage name="edit_user.png" library="grafika" style="border:none;" width="24" height="24" alt="edycjaUzytkownika"/>
				    <f:param name="login" value="#{user.login}"/>
		       <!--  			</p:link> -->
					
			</p:column>			
		
		</p:dataTable>
	 
	</h:form>
		
		
	


</h:body> 
</html>
